{
  "version": 3,
  "sources": ["../../js/themer.js", "../../js/main.js", "../../js/likes.js", "../../js/blog-filter.js"],
  "sourcesContent": ["//Color changing sections\nconst themes = [\"eggplant\", \"watermelon\", \"yolk\", \"berry\", \"mintchip\", \"peachtree\", \"bloggy\"];\n\nconst themeObserver = new IntersectionObserver(\n  (entries, observer) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting) {\n        document.documentElement.classList.remove(...themes);\n        document.documentElement.classList.add(entry.target.dataset.theme);\n      }\n    });\n  },\n  {\n    rootMargin: \"0px\",\n    threshold: [0.33, 0.66],\n  }\n);\n\ndocument.querySelectorAll(\"[data-theme]\").forEach((changer) => {\n  themeObserver.observe(changer);\n});\n", "import \"../css/main.scss\";\nimport \"../css/blog.scss\";\n\nimport \"./themer.js\";\nimport { createApp } from 'https://unpkg.com/petite-vue?module';\n\nimport {likes} from \"./likes.js\";\nimport {blog} from \"./blog-filter.js\";\n\ncreateApp({likes, blog, $delimiters: ['[{', '}]']}).mount();\n\nconst track = document.querySelector(\".h-track\");\n\nif (track) {\n  track.classList.add(\"invisible-scrollbar\");\n  const trackContainer = track.querySelector(\".h-content-container\");\n\n  let registeredScroll = false;\n  let outerWidth = track.offsetWidth;\n  let innerWidth = trackContainer.scrollWidth;\n\n  const updateScroll = (val) => {\n    if (!isNaN(val)) {\n      track.setAttribute(\"data-scroll\", val);\n    }\n  };\n\n  const updatePct = () => {\n    const pct = (track.scrollLeft / (innerWidth - outerWidth)) * 100;\n\n    track.dataset.scrollPercent = pct;\n    document.documentElement.style.setProperty(\"--scroll-pct\", `${track.dataset.scrollPercent}%`);\n  };\n  updatePct();\n\n  window.addEventListener(\"resize\", (e) => {\n    outerWidth = track.offsetWidth;\n    innerWidth = trackContainer.scrollWidth;\n    updatePct();\n  });\n\n  track.addEventListener(\"scroll\", (evt) => {\n    if (!registeredScroll) {\n      updateScroll(track.scrollLeft + evt.deltaY + evt.deltaX);\n    }\n  });\n\n  track.addEventListener(\"wheel\", (evt) => {\n    registeredScroll = true;\n    evt.preventDefault();\n    const tpMultiplier = evt.deltaY % 1 === 0 ? 6 : 1.5;\n    updateScroll(track.scrollLeft + evt.deltaY * tpMultiplier + evt.deltaX * tpMultiplier);\n  });\n\n  let pos = { top: 0, left: 0, x: 0, y: 0 };\n\n  window.addEventListener(\"keydown\", (e) => {\n    if (e.key === \"ArrowUp\" || e.key === \"ArrowLeft\") {\n      registeredScroll = true;\n      updateScroll(track.scrollLeft - 100);\n      // track.setAttribute('data-scroll', track.scrollLeft - 100)\n    } else if (e.key === \"ArrowDown\" || e.key === \"ArrowRight\") {\n      registeredScroll = true;\n      updateScroll(track.scrollLeft + 100);\n    }\n  });\n\n  document.querySelectorAll('a[href^=\"#\"]').forEach((a) => {\n    a.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n\n      const offsetLeft = document.querySelector(a.hash).offsetLeft;\n\n      const url = new URL(window.location);\n      if (!(url.hash === a.hash)) {\n        window.history.pushState({ scrollLeft: offsetLeft ?? 0 }, \"\", a.hash);\n      }\n      registeredScroll = true;\n      updateScroll(offsetLeft);\n    });\n  });\n\n  const initLoad = () => {\n    const url = new URL(window.location);\n    if (url.hash) {\n      const offsetLeft = document.querySelector(url.hash).offsetLeft;\n      window.history.pushState({ scrollLeft: offsetLeft ?? 0 }, \"\", url.hash);\n      registeredScroll = true;\n      updateScroll(offsetLeft);\n    }\n  };\n  initLoad();\n\n  window.addEventListener(\"popstate\", (e) => {\n    registeredScroll = true;\n    if (e.state?.scrollLeft) {\n      updateScroll(e.state.scrollLeft);\n    } else {\n      updateScroll(0);\n    }\n  });\n\n  document.addEventListener(\"touchstart\", (e) => {\n    if (registeredScroll) {\n      registeredScroll = false;\n    }\n  });\n\n  //   const mouseDownHandler = (e) => {\n  //     registeredScroll = true;\n\n  //     track.style.cursor = 'grabbing';\n  //     track.style.userSelect = 'none';\n\n  //     pos = {\n  //       left: track.scrollLeft,\n  //       x: e.clientX ?? e.touches?.[0]?.clientX + e.touches?.[0]?.clientY ?? 0,\n  //     };\n\n  //     document.addEventListener('mousemove', mouseMoveHandler);\n  //     document.addEventListener('mouseup', mouseUpHandler);\n\n  //   };\n\n  //   const mouseMoveHandler = (e) => {\n  //     registeredScroll = true;\n\n  //     const cx = e.clientX ?? e.touches?.[0]?.clientX + e.touches?.[0]?.clientY ?? 0\n  //     const dx = cx - pos.x;\n  //     updateScroll(pos.left - dx);\n  //     // track.setAttribute('data-scroll', pos.left - dx)\n  //   };\n\n  //   const mouseUpHandler = () => {\n  //     document.removeEventListener('mousemove', mouseMoveHandler);\n  //     document.removeEventListener('mouseup', mouseUpHandler);\n\n  //     track.style.cursor = 'grab';\n  //     track.style.removeProperty('user-select');\n  //   };\n\n  //   track.addEventListener('mousedown', mouseDownHandler);\n\n  const update = () => {\n    if (registeredScroll) {\n      const toX = parseFloat(track.getAttribute(\"data-scroll\")) ?? 0;\n      const dx = toX - track.scrollLeft;\n\n      if (dx > 1 || dx < -1) {\n        track.scrollLeft += dx * 0.1;\n      } else {\n        track.scrollLeft = toX;\n        registeredScroll = false;\n      }\n    }\n    updatePct();\n    requestAnimationFrame(update);\n  };\n\n  requestAnimationFrame(update);\n}\n\n//Color changing sections\n\n", "\nconst likes = ({title}) => {\n\n  const endpoint = 'https://likes.walpolea.workers.dev/';\n  return {\n    $template: `\n    <article class=\"like-button\" @vue:mounted=\"mounted\" :style=\"{'--likes':likes}\">\n      <button @click=\"postLike();\">\n        <svg :width=\"likes + '%'\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78.09 74.75\">\n          <polygon points=\"2 34.869 2 13.192 13.181 2 36.04 2 36.04 9.188 43.221 2 64.909 2 76.09 13.192 76.09 34.869 45.464 65.495 39.052 71.92 2 34.869\" fill=\"var(--accent-color)\" />\n          <path d=\"M64.08,4l10.01,10.02v20.02l-30.04,30.04-5,5.01L4,34.04V14.02L14.01,4h20.03V14.02l10.01-10.02h20.03m1.658-4h-23.346l-1.172,1.173-3.18,3.183V0H12.352l-1.172,1.173L1.17,11.193l-1.17,1.171v23.333l1.172,1.172,35.05,35.05,2.831,2.831,2.828-2.834,5-5.01,30.037-30.037,1.172-1.172V12.364l-1.17-1.171L66.91,1.173l-1.172-1.173h0Z\" fill=\"var(--fg-color)\" />\n        </svg>\n      </button>\n      <p v-if=\"likes > 0\">[{likes}]</p>\n    </article>`,\n    title,\n    likes:0,\n    likeAdded:false,\n    async mounted() {\n      await this.loadLikes();\n    },\n    async loadLikes() {\n      this.likes = (await ( await fetch(`${endpoint}?title=${this.title}`)).json()).likes;\n    },\n    async postLike() {\n      if( !this.likeAdded ) {\n\n        const response = await ( await fetch(endpoint, {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({title})\n        })).json();\n\n        this.likes = response.likes;\n\n        this.likeAdded = true;\n      }\n    }\n  }\n}\n\n\nexport {\n  likes\n};", "\nconst blog = ( {posts} ) => {\n\n  const allCategories = Array.from( new Set( posts.map( p=>p.tags).flat().filter( c => c !== \"post\" && c !== \"published\") ) );\n\n  return {\n    posts,\n    initialized:false,\n    chosenCategories:[],\n    allCategories,\n    mounted() {\n      this.initialized = true;\n    },\n    get filteredPosts() {\n      if(this.chosenCategories.length === 0) {\n        return this.posts;\n      }\n\n      return this.posts.filter( p => p.tags.some( t => this.chosenCategories.includes(t) ) );\n    }\n  }\n}\n\nexport {\n  blog\n};\n\n"],
  "mappings": "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",
  "names": []
}
