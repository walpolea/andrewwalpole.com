var f=["eggplant","watermelon","yolk","berry","mintchip","peachtree","bloggy"],h=new IntersectionObserver((l,s)=>{l.forEach(i=>{i.isIntersecting&&(document.documentElement.classList.remove(...f),document.documentElement.classList.add(i.target.dataset.theme))})},{rootMargin:"0px",threshold:[.33,.66]});document.querySelectorAll("[data-theme]").forEach(l=>{h.observe(l)});import{createApp as u}from"https://unpkg.com/petite-vue?module";var p=({title:l})=>{let s="https://likes.walpolea.workers.dev/";return{$template:`
    <article class="like-button" @vue:mounted="mounted" :style="{'--likes':likes}">
      <button @click="postLike();">
        <svg :width="likes + '%'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78.09 74.75">
          <polygon points="2 34.869 2 13.192 13.181 2 36.04 2 36.04 9.188 43.221 2 64.909 2 76.09 13.192 76.09 34.869 45.464 65.495 39.052 71.92 2 34.869" fill="var(--accent-color)" />
          <path d="M64.08,4l10.01,10.02v20.02l-30.04,30.04-5,5.01L4,34.04V14.02L14.01,4h20.03V14.02l10.01-10.02h20.03m1.658-4h-23.346l-1.172,1.173-3.18,3.183V0H12.352l-1.172,1.173L1.17,11.193l-1.17,1.171v23.333l1.172,1.172,35.05,35.05,2.831,2.831,2.828-2.834,5-5.01,30.037-30.037,1.172-1.172V12.364l-1.17-1.171L66.91,1.173l-1.172-1.173h0Z" fill="var(--fg-color)" />
        </svg>
      </button>
      <p v-if="likes > 0">[{likes}]</p>
    </article>`,title:l,likes:0,likeAdded:!1,async mounted(){console.log("mounted"),await this.loadLikes()},async loadLikes(){this.likes=(await(await fetch(`${s}?title=${this.title}`)).json()).likes},async postLike(){if(!this.likeAdded){let i=await(await fetch(s,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:l})})).json();this.likes=i.likes,this.likeAdded=!0}}}};u({likes:p,$delimiters:["[{","}]"]}).mount();var t=document.querySelector(".h-track");if(t){t.classList.add("invisible-scrollbar");let l=t.querySelector(".h-content-container"),s=!1,i=t.offsetWidth,c=l.scrollWidth,r=e=>{isNaN(e)||t.setAttribute("data-scroll",e)},n=()=>{let e=t.scrollLeft/(c-i)*100;t.dataset.scrollPercent=e,document.documentElement.style.setProperty("--scroll-pct",`${t.dataset.scrollPercent}%`)};n(),window.addEventListener("resize",e=>{i=t.offsetWidth,c=l.scrollWidth,n()}),t.addEventListener("scroll",e=>{s||r(t.scrollLeft+e.deltaY+e.deltaX)}),t.addEventListener("wheel",e=>{s=!0,e.preventDefault();let o=e.deltaY%1==0?6:1.5;r(t.scrollLeft+e.deltaY*o+e.deltaX*o)});let m={top:0,left:0,x:0,y:0};window.addEventListener("keydown",e=>{e.key==="ArrowUp"||e.key==="ArrowLeft"?(s=!0,r(t.scrollLeft-100)):(e.key==="ArrowDown"||e.key==="ArrowRight")&&(s=!0,r(t.scrollLeft+100))}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();let d=document.querySelector(e.hash).offsetLeft;new URL(window.location).hash!==e.hash&&window.history.pushState({scrollLeft:d??0},"",e.hash),s=!0,r(d)})}),(()=>{let e=new URL(window.location);if(e.hash){let o=document.querySelector(e.hash).offsetLeft;window.history.pushState({scrollLeft:o??0},"",e.hash),s=!0,r(o)}})(),window.addEventListener("popstate",e=>{s=!0,e.state?.scrollLeft?r(e.state.scrollLeft):r(0)}),document.addEventListener("touchstart",e=>{s&&(s=!1)});let a=()=>{if(s){let e=parseFloat(t.getAttribute("data-scroll"))??0,o=e-t.scrollLeft;o>1||o<-1?t.scrollLeft+=o*.1:(t.scrollLeft=e,s=!1)}n(),requestAnimationFrame(a)};requestAnimationFrame(a)}
//# sourceMappingURL=main.js.map
